install.packages("tidyverse")
install.packages("ggplot2")
install.packages("gridExtra")
install.packages("XML")
library(tidyverse)
library(ggplot2)
library(gridExtra)
library(XML)
library(dplyr)
library(lubridate)
xmlToDataFrame("LONGLINE_00.xml")
longline2000 <- xmlToDataFrame("LONGLINE_00.xml")
print(longline2000)
longline2000 <- xmlToDataFrame("LONGLINE_00.xml")
View(longline2000)
filter(longline2000, hhooks != 0,!is.null(hhooks), alb_n != 0, alb_c !=0)
filter(longline2000, hhooks != 0,!is.null(hhooks))
longline2000_catch <- filter(longline2000, hhooks != 0,!is.null(hhooks))
View(longline2000)
View(longline2000_catch)
select(longline2000, yy, mm, hhoks, alb_c, alb_n, yft_c, yft_n, bet_c, bet_n, mls_c, mls_n, blm_c, blm_n, bum_c, bum_n, swo_c, swo_n, oth_c, oth_n
longline2000_catch_cpue <- select(longline2000, yy, mm, hhoks, alb_c, alb_n, yft_c, yft_n, bet_c, bet_n, mls_c, mls_n, blm_c, blm_n, bum_c, bum_n, swo_c, swo_n, oth_c, oth_n
select(longline2000_catch, yy, mm, hhoks, alb_c, alb_n, yft_c, yft_n, bet_c, bet_n, mls_c, mls_n, blm_c, blm_n, bum_c, bum_n, swo_c, swo_n, oth_c, oth_n)
longline2000_catch_cpue <- select(longline2000_catch, yy, mm, hhooks, alb_c, alb_n, yft_c, yft_n, bet_c, bet_n, mls_c, mls_n, blm_c, blm_n, bum_c, bum_n, swo_c, swo_n, oth_c, oth_n)
View(longline2000_catch_cpue)
longline2000_catch_cpue %>%
mutate(CpUE_alb_n = alb_n / hhooks)
longline2000_catch_cpue %>%
mutate(Catch_n_total = alb_n + yft_n + bet_n + mls_n + blm_n + bum_n + swo_n + oth_n)
longline2000_catch_cpue %>%
mutate(Catch_n_total = alb_c/2)
read.table("longline2000_catch_cpue", header = TRUE, dec=",")
library(tidyverse)
library(ggplot2)
library(gridExtra)
library(XML)
library(dplyr)
library(lubridate)
read.table("longline2000_catch_cpue", header = TRUE, dec=",")
read.table("longline2000_catch_cpue", header = TRUE, dec=",")
filter(longline2000, hhooks != 0,!is.null(hhooks))
select(longline2000_catch, yy, mm, hhooks, alb_c, alb_n, yft_c, yft_n, bet_c, bet_n, mls_c, mls_n, blm_c, blm_n, bum_c, bum_n, swo_c, swo_n, oth_c, oth_n)
read.table("longline2000_catch_cpue", header = TRUE, dec=",")
read.table("LONGLINE_00", header = TRUE, dec=",")
longline2000_catch_cpue %>%
mutate(Catch_n_total = alb_n + yft_n + bet_n + mls_n + blm_n + bum_n + swo_n + oth_n)
write.csv(longline2000_catch_cpue, "c:/longline2000_catch_cpue.csv")
write.csv(longline2000_catch_cpue, "d:/longline2000_catch_cpue.csv")
longline2000_catch_cpue %>%
mutate(Catch_n_total = alb_n + yft_n + bet_n + mls_n + blm_n + bum_n + swo_n + oth_n)
longline2000_catch_cpue %>%
mutate(Catch_n_total = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n)
scatter.smooth(x=longline2000_catch_cpue$alb_n, y=longline2000_catch_cpue$yy,mm, main="Fluctuation of Albacore")
scatter.smooth(x=longline2000_catch_cpue$alb_n, y=longline2000_catch_cpue$yy, main="Fluctuation of Albacore")
as.numeric(as.character( longline2000_catch_cpue[, 1] ))
as.numeric(as.character( longline2000_catch_cpue[, 2] ))
as.numeric(as.character( longline2000_catch_cpue[, 1][, 2] ))
as.numeric(as.character( longline2000_catch_cpue[, 2, 3, 4, 5, 6, 7, 8, 9] ))
as.numeric(as.character( longline2000_catch_cpue[, 9] ))
bet_n <- as.numeric(as.character( longline2000_catch_cpue[, 9] ))
longline2000_catch_cpue %>%
mutate(bet_n_cpue = bet_n / hhooks)
as.numeric(as.character( longline2000_catch_cpue[, 3] ))
hhooks <- as.numeric(as.character( longline2000_catch_cpue[, 3] ))
longline2000_catch_cpue %>%
mutate(bet_n_cpue = bet_n / hhooks)
bet_c_kg <- as.numeric(as.character( longline2000_catch_cpue[, 8] ))
bet_c_kg <- as.numeric(as.character( longline2000_catch_cpue[, 8]*1000 ))
bet_c <- as.numeric(as.character( longline2000_catch_cpue[, 8] ))
bet_c_kg <- (bet_c * 1000)
longline2000_catch_cpue %>%
mutate(bet_c_cpue = bet_c_kg / hhooks)
longline2000_catch_cpue %>%
mutate(bet_c_cpue = bet_c + bet_n)
longline2000 <- xmlToDataFrame("LONGLINE_00.xml")
library(tidyverse)
library(ggplot2)
library(gridExtra)
library(XML)
library(dplyr)
library(lubridate)
longline2000 <- xmlToDataFrame("LONGLINE_00.xml")
write.csv(longline2000, file = "longline2000.csv")
longline2000_csv <- read.csv(file = "longline2000.csv")
filter(longline2000_csv, hhooks != 0,!is.null(hhooks))
1_longline2000_csv_cleared <- filter(longline2000_csv, hhooks != 0,!is.null(hhooks))
longline2000_csv_cleared <- filter(longline2000_csv, hhooks != 0,!is.null(hhooks))
View(longline2000_csv_cleared)
View(longline2000)
select(longline2000_csv_cleared, yy, mm, hhooks, alb_c, alb_n, yft_c, yft_n, bet_c, bet_n, mls_c, mls_n, blm_c, blm_n, bum_c, bum_n, swo_c, swo_n, oth_c, oth_n)
longline2000_csv_cpue <- select(longline2000_csv_cleared, yy, mm, hhooks, alb_c, alb_n, yft_c, yft_n, bet_c, bet_n, mls_c, mls_n, blm_c, blm_n, bum_c, bum_n, swo_c, swo_n, oth_c, oth_n)
mutate(Catch_n_total = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n)
longline2000_csv_cpue2 %>% mutate(Catch_n_total = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n)
longline2000_csv_cpue %>% mutate(Catch_n_total = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n)
longline2000_csv_cpue %>% mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n)
longline2000_csv_cpue %>% mutate(total_c = alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c) %>% mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n)
longline2000_csv_cpue %>%
mutate(total_c = alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c/hhooks)
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c/hhooks)
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c_kg/hhooks)
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c_kg/hhooks) %>%
mutate(cpue_n = total_n/hhooks)
longline2000_csv_cpue1 <- longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c_kg/hhooks) %>%
mutate(cpue_n = total_n/hhooks)
View(longline2000_csv_cpue1)
ddply(df, .(yy, mm), summarize, hhooks = sum(hhooks))
library(ddply)
install.packages(ddply)
install.packages("plyr")
install.packages("plyr")
library(plyr)
install.packages("plyr")
install.packages("plyr")
library(plyr)
ddply(df, .(yy, mm), summarize, hhooks = sum(hhooks))
ddply(longline2000_csv_cpue1, .(yy, mm), summarize, hhooks = sum(hhooks))
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c_kg/hhooks) %>%
mutate(cpue_n = total_n/hhooks)
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c_kg/hhooks) %>%
mutate(cpue_n = total_n/hhooks)
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
library(tidyverse)
library(ggplot2)
library(gridExtra)
library(XML)
library(dplyr)
library(lubridate)
library(plyr)
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c_kg/hhooks) %>%
mutate(cpue_n = total_n/hhooks)
ddply(longline2000_csv_cpue1, .(yy, mm), summarize, hhooks = sum(hhooks), alb_c = sum(alb_c), alb_n = sum(alb_n), yft_c = sum(yft_c), yft_n = sum(yft_n)
bet_c = sum(bet_c), bet_n = sum(bet_n))
ddply(longline2000_csv_cpue1, .(yy, mm), summarize, hhooks = sum(hhooks), alb_c = sum(alb_c), alb_n = sum(alb_n), yft_c = sum(yft_c), yft_n = sum(yft_n),
bet_c = sum(bet_c), bet_n = sum(bet_n))
longline2000_csv_cpue1 <- longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c_kg/hhooks) %>%
mutate(cpue_n = total_n/hhooks)
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n) %>%
mutate(cpue_c = total_c_kg/hhooks) %>%
mutate(cpue_n = total_n/hhooks)
ddply(longline2000_csv_cpue1, .(yy, mm), summarize, hhooks = sum(hhooks), alb_c = sum(alb_c), alb_n = sum(alb_n), yft_c = sum(yft_c), yft_n = sum(yft_n),
bet_c = sum(bet_c), bet_n = sum(bet_n), mls_c = sum(mls_c), mls_n = sum(mls_n), blm_c = sum(blm_c), blm_n = sum(blm_n), bum_c = sum(bum_c), bum_n = sum(bum_n),
swo_c = sum(swo_c), swo_n = sum(swo_n), oth_c = sum(oth_c), oth_n = sum(oth_n), total_c_kg = sum(total_c_kg), total_n = sum(total_n))
ddply(longline2000_csv_cpue, .(yy, mm), summarize, hhooks = sum(hhooks), alb_c = sum(alb_c), alb_n = sum(alb_n), yft_c = sum(yft_c), yft_n = sum(yft_n),
bet_c = sum(bet_c), bet_n = sum(bet_n), mls_c = sum(mls_c), mls_n = sum(mls_n), blm_c = sum(blm_c), blm_n = sum(blm_n), bum_c = sum(bum_c), bum_n = sum(bum_n),
swo_c = sum(swo_c), swo_n = sum(swo_n), oth_c = sum(oth_c), oth_n = sum(oth_n), total_c_kg = sum(total_c_kg), total_n = sum(total_n))
View(longline2000_csv_cpue)
ddply(longline2000_csv_cpue, .(yy, mm), summarize, hhooks = sum(hhooks), alb_c = sum(alb_c), alb_n = sum(alb_n), yft_c = sum(yft_c), yft_n = sum(yft_n),
bet_c = sum(bet_c), bet_n = sum(bet_n), mls_c = sum(mls_c), mls_n = sum(mls_n), blm_c = sum(blm_c), blm_n = sum(blm_n), bum_c = sum(bum_c), bum_n = sum(bum_n),
swo_c = sum(swo_c), swo_n = sum(swo_n), oth_c = sum(oth_c), oth_n = sum(oth_n), total_c_kg = sum(total_c_kg), total_n = sum(total_n))
longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n)
longline2000_csv_cpue1 <- longline2000_csv_cpue %>%
mutate(total_c_kg = (alb_c+yft_c+bet_c+mls_c+blm_c+bum_c+swo_c+oth_c)*1000) %>%
mutate(total_n = alb_n+yft_n+bet_n+mls_n+blm_n+bum_n+swo_n+oth_n)
View(longline2000_csv_cpue1)
longline2000_csv_cpue2 <- ddply(longline2000_csv_cpue1, .(yy, mm), summarize, hhooks = sum(hhooks), alb_c = sum(alb_c), alb_n = sum(alb_n), yft_c = sum(yft_c), yft_n = sum(yft_n),
bet_c = sum(bet_c), bet_n = sum(bet_n), mls_c = sum(mls_c), mls_n = sum(mls_n), blm_c = sum(blm_c), blm_n = sum(blm_n), bum_c = sum(bum_c), bum_n = sum(bum_n),
swo_c = sum(swo_c), swo_n = sum(swo_n), oth_c = sum(oth_c), oth_n = sum(oth_n), total_c_kg = sum(total_c_kg), total_n = sum(total_n))
View(longline2000_csv_cpue2)
longline2000_csv_cpue2 %>% mutate(cpue_c = total_c_kg/hhooks) %>% mutate(cpue_n = total_n/hhooks)
mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100)
longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100)
longline2000_csv_cpue3 <- longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100)
View(longline2000_csv_cpue3)
cor(longline2000_csv_cpue3$mm, longline2000_csv_cpue3$cpue_c)
longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100) %>% mutate(weight_idv = total_c_kg/total_n))
library(tidyverse)
library(ggplot2)
library(gridExtra)
library(XML)
library(dplyr)
library(lubridate)
library(plyr)
ddply(longline2000_csv_cpue1, .(yy, mm), summarize, hhooks = sum(hhooks), alb_c = sum(alb_c), alb_n = sum(alb_n), yft_c = sum(yft_c), yft_n = sum(yft_n),
bet_c = sum(bet_c), bet_n = sum(bet_n), mls_c = sum(mls_c), mls_n = sum(mls_n), blm_c = sum(blm_c), blm_n = sum(blm_n), bum_c = sum(bum_c), bum_n = sum(bum_n),
swo_c = sum(swo_c), swo_n = sum(swo_n), oth_c = sum(oth_c), oth_n = sum(oth_n), total_c_kg = sum(total_c_kg), total_n = sum(total_n))
longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100) %>% mutate(weight_idv = total_c_kg/total_n))
longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100)
longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100) %>% mutate(weight_idv = total_c_kg/total_n)
longline2000_csv_cpue3 <- longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100) %>%
mutate(alb_idv = alb_c/alb_n) %>% mutate(yft_idv = yft_c/yft_n) %>% mutate(bet_idv = bet_c/bet_n) %>% mutate(mls_idv = mls_c/mls_n) %>%
mutate(blm_idv = blm_c/blm_n) %>% mutate(bum_idv = bum_c/bum_n) %>% mutate(swo_idv = swo_c/swo_n) %>% mutate(oth_idv = oth_c/oth_n)
View(longline2000_csv_cpue3)
plot.ts(longline2000_csv_cpue3)
plot.ts(longline2000_csv_cpue3: alb_idv,(yy,mm))
plot.ts(longline2000_csv_cpue3: alb_idv,(yy:mm))
plot(longline2000_csv_cpue3: alb_idv,(yy:mm))
plot(longline2000_csv_cpue3: alb_idv,mm)
plot(longline2000_csv_cpue3: alb_idv)
longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100) %>%
mutate(alb_idv = (alb_c*1000)/alb_n) %>% mutate(yft_idv = (yft_c*1000)/yft_n) %>% mutate(bet_idv = (bet_c*1000)/bet_n) %>% mutate(mls_idv = (mls_c*1000)/mls_n) %>%
mutate(blm_idv = (blm_c*1000)/blm_n) %>% mutate(bum_idv = (bum_c*1000)/bum_n) %>% mutate(swo_idv = (swo_c*1000)/swo_n) %>% mutate(oth_idv = (oth_c*1000)/oth_n)
longline2000_csv_cpue3 <- longline2000_csv_cpue2 %>% mutate(cpue_c = (total_c_kg/hhooks)*100) %>% mutate(cpue_n = (total_n/hhooks)*100) %>%
mutate(alb_idv = (alb_c*1000)/alb_n) %>% mutate(yft_idv = (yft_c*1000)/yft_n) %>% mutate(bet_idv = (bet_c*1000)/bet_n) %>% mutate(mls_idv = (mls_c*1000)/mls_n) %>%
mutate(blm_idv = (blm_c*1000)/blm_n) %>% mutate(bum_idv = (bum_c*1000)/bum_n) %>% mutate(swo_idv = (swo_c*1000)/swo_n) %>% mutate(oth_idv = (oth_c*1000)/oth_n)
cor(longline2000_csv_cpue3$mm, longline2000_csv_cpue3$cpue_c)
